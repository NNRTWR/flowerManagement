<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{/layouts/main}" xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>Flower Management Web Application</title>
    <link th:rel="stylesheet" th:href="@{/css/output.css}">
    <!-- <link th:rel="stylesheet" th:href=""> -->
</head>
<body>
    <div layout:fragment="content">
        <h1 class="text-3xl text-center font-bold mb-5" th:text="${'แปลงที่ ' + PID}">แปลงที่</h1>
        <span class="flex justify-end">
            <form  th:action="@{/beds/{PID}}" method="POST" th:object="${order}">
                <input type="hidden" name="PID" th:value="${PID}" /><!-- เอาออกแตก -->
            <button class="btn btn-success text-lg mr-10" type="submit" name="harvestButton">เก็บเกี่ยว</button>
            </form>
            <button class="btn btn-error text-lg" onclick="my_modal_1.showModal()">แจ้งดอกไม้ตาย</button>
            <dialog id="my_modal_1" class="modal fixed right-0">
                <div class="modal-box ml-60 h-1/2  mt-6">
                  <div class="flex justify-between items-center bg-red-500 text-white text-xl px-5 py-4 rounded-lg focus:ring 
                  focus:ring-gray-200 focus:outline-none">
                      <h3>แจ้งดอกไม้ตาย</h3>
                  </div>
                  <form  th:action="@{/beds/{PID}}" method="POST" th:object="${order}">
                      <input type="hidden" name="PID" th:value="${PID}" /><!-- เอาออกแตก -->
                    <div class="mb-3 mt-6 mx-6 text-lg">
                        <label for="inputAmount">กรอกจำนวนดอกไม้ที่ตาย</label>
                        <input id="inputAmount" type="number" class="form-control rounded-xl pr-8 py-2 my-5 shadow-lg text-gray-500 pl-7 border-2 "
                            name="deadPlant"  required>
                    </div>
                          <!--                                       name="FID">-->
                      <div class="mb-3 mt-6 mx-6 mt-16">
                          <button id="submit-button" class="btn btn-success text-bold text-xl px-10" type="submit" name="deadButton">ยืนยัน</button>
                          <button class="btn btn-error ml-5 text-bold text-xl px-10" type="button" onclick="my_modal_1.close()">ยกเลิก</button> <!--ใช้tyoe button ไม่ให่ส่งข้อมูลไป-->
                      </div>
                  </form>
                </div>
              </dialog>  
        </span>
        <div class="flex rounded-xl">
            <div class="rounded-xl items-center">
                <div>
                </div>
            </div>     
        <div class="container bg-sky-300 mt-5 rounded-xl">
            <h1>ชนิดดอกไม้</h1>
    
                    <!-- ย่อย -->
                  
                </div>
            </div>
        </div>
    </div>
<h1 class="display-6">Bed ที่ปลูกแล้ว</h1>

<table  class="table table-bordered table-striped table-hover" >
    <thead class="thead-dark">
    <tr class="table-dark">
        <th>เลขที่แปลง</th>
        <th>วันที่ปลูก</th>
        <th>จำนวนที่ปลูก</th>
        <th>จำนวนคงเหลือ</th>
        <th>ชื่อดอกไม้</th>
<!--        <th>วิธีปลูก</th>-->
<!--        <th>วิธีดูแล</th>-->
<!--        <th>ระยะเวลาของเมล็ด</th>-->
<!--        <th>ระยะเวลาของต้นอ่อน</th>-->
<!--        <th>ระยะเวลาของต้นกำลังโต</th>-->
<!--        <th>ระยะเวลาของต้นโตเต็มที่</th>-->
<!--        <th>ระยะเวลาของการเก็บเกี่ยว</th>-->
<!--        <th>รูปแบบการเก็บ</th>-->
        <th>ราคา</th>
        <th>สถานะของดอกไม้ในแปลง</th>
    </tr>
    </thead>

    <tbody>

    <tr>
        <td th:text="${plantOrder.PID}"></td>
        <td th:text="${plantOrder.timePlant}"></td>
        <td th:text="${plantOrder.quantity}"></td>
        <td th:text="${plantOrder.total}"></td>
        <td th:text="${plantOrder.flower.FName}"></td>
        <td style="text-align: right" th:text="${#numbers.formatDecimal(plantOrder.flower.price, 0, 'COMMA', 2, 'POINT')}"></td>
        <td th:text="${plantOrder.flowerStatus}"></td>
    </tr>
    </tbody>
</div>


</table>
</body>
</html>